<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>MementoAI</title>
		<link
			rel="icon"
			href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ§ </text></svg>"
		/>

		<!-- PWA Manifest -->
		<link
			rel="manifest"
			href="manifest.json"
		/>

		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,200..900;1,200..900&display=swap"
			rel="stylesheet"
		/>

		<!-- External Libraries -->
		<script src="libs/marked.min.js"></script>
		<script src="libs/highlight.min.js"></script>
		<link
			rel="stylesheet"
			href="libs/highlight.min.css"
		/>

		<!-- CSS Files -->
		<link rel="stylesheet" href="css/variables.css">
		<link rel="stylesheet" href="css/layout.css">
		<link rel="stylesheet" href="css/forms.css">
		<link rel="stylesheet" href="css/messages.css">
		<link rel="stylesheet" href="css/markdown.css">
	</head>
	<body>
		<div class="container">
<aside class="side-panel">
			<button id="panel-close" class="mobile-only" style="position: absolute; top: 10px; right: 10px;">Ã—</button>
			<div class="panel-content">
				<h2>Side Panel</h2>
				<p>Content goes here</p>
			</div>
		</aside>
<button id="panel-toggle" class="mobile-only" aria-expanded="false" aria-controls="side-panel">
			<span class="sr-only">Toggle side panel</span>
			â‰¡
		</button>
<aside class="side-panel">
			<div class="panel-content">
				<h2>Side Panel</h2>
				<p>Content goes here</p>
			</div>
		</aside>
			<header>
				<h1>MementoAI</h1>
				<div class="header-actions">
					<button id="settings-toggle" aria-haspopup="true" aria-controls="settings-panel">Settings</button>
				</div>
			</header>
			<form id="settings-form"><div id="settings-panel" class="hidden" role="dialog" aria-modal="false" aria-label="Settings">
				<div id="settings-banner" class="inline-status error hidden" role="alert">
					<span>Invalid API key. Please check your OpenRouter API key.</span>
					<button type="button" id="dismiss-settings-banner" aria-label="Dismiss">Ã—</button>
				</div>
				<div class="form-group">
					<label for="api-key">OpenRouter API Key</label>
					<div class="form-row">
						<div class="input-group" style="flex:1">
							<input type="password" id="api-key" placeholder="sk-or-..." autocomplete="current-password" />
						</div>
						<div class="input-group" style="width: auto; display:flex; gap:8px">
							<button type="button" id="toggle-key-visibility" class="btn-small" aria-pressed="false">Show</button>
							<button type="button" id="test-api-key" class="btn-small">Test key</button>
							<a href="https://openrouter.ai/keys" target="_blank" rel="noopener" class="btn-small btn-secondary" role="button">Get a key</a>
						</div>
					</div>
					<small>Your key is saved in your browser's local storage.</small>
				</div>
				<div class="form-group">
					<label for="model-select">Model</label>
					<select id="model-select"></select>
				</div>
				<div class="form-row" style="align-items: center">
					<div class="input-group" style="display:flex; align-items:center; gap:8px; margin:0">
						<input type="checkbox" id="free-filter" checked />
						<label for="free-filter" style="margin:0">Show only free models</label>
					</div>
					<div class="input-group" style="flex:1">
						<label for="model-search" style="margin:0">Filter models by name</label>
						<input type="text" id="model-search" placeholder="Search model names..." />
					</div>
				</div>
				<div class="form-group">
					<label for="system-prompt">System Prompt</label><textarea id="system-prompt" rows="8" placeholder="You are a helpful assistant..."></textarea>
				</div>
				<div class="button-group" style="display:flex; gap:8px; flex-wrap: wrap; justify-content: flex-end">
					<div class="button-row">
						<button type="button" id="save-settings" class="btn-primary">Save Settings</button>
						<button type="button" id="refresh-models" class="btn-primary">Refresh Models</button>
					</div>
					<div class="button-row">
						<button type="button" id="export-memory" class="btn-secondary">Export Memory</button>
						<button type="button" id="import-memory" class="btn-secondary">Import Memory</button>
						<button type="button" id="enable-notifications" class="btn-secondary">Enable Notifications</button>
						<button type="button" id="clear-debug" class="btn-secondary">Clear Debug</button>
					</div>
					<input type="file" id="import-file-input" accept=".json" style="display: none" />
				</div>
				<div id="debug-info" aria-live="polite"></div>
				<button type="button" id="close-settings" style="position:sticky; bottom:0; margin-top:8px; align-self:flex-end">Close</button>
			</div>
		</form>
			<main id="chat-container" aria-live="polite" aria-busy="false"></main>
			<footer>
				<form id="chat-form">
					<textarea id="message-input" rows="1" placeholder="Start a conversation (Shift+Enter for newline)" autocomplete="off"></textarea>
					<button type="submit" id="send-button" disabled>Send</button>
				</form>
				<div id="footer-status" role="status" aria-live="polite"></div>
			</footer>
		</div>

		<!-- JavaScript Files -->
		<script src="js/state.js"></script>
		<script src="js/api.js"></script>
		<script src="js/ui.js"></script>
		<script src="js/memory.js"></script>
		<script src="js/notifications.js"></script>
		<script src="js/pwa.js"></script>
		<script src="js/main.js"></script>
	</body>
</html>
